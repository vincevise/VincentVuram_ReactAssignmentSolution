{"ast":null,"code":"var _jsxFileName = \"G:\\\\Great-Learning\\\\00_FrontEnd\\\\New folder\\\\graded-coding-assignment-react-main\\\\movies-on-the-tip\\\\src\\\\components\\\\movieInfo\\\\MovieInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Alert, Col, Row } from \"react-bootstrap\";\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport LoadingIndicator from \"../common/LoadingIndicator\";\nimport Rating from \"../common/Rating\";\nimport { getMovieByTitle } from \"../../services/movieService\";\nimport NoMatch from \"../global/NoMatch\";\nimport './MovieInfo.css';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MoviesInfo = props => {\n  _s();\n\n  var _error$message;\n\n  const [status, setStatus] = useState(\"LOADING\");\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        const data = await getMovieByTitle(props.match.params.moviesCategory, props.match.params.path);\n        setMovie(data);\n        setStatus(\"LOADED\");\n      } catch (errormsg) {\n        setError(errormsg);\n        setStatus(\"ERROR\");\n      }\n    };\n\n    fetchMovie();\n  }, [props.match.params.path, props.match.params.moviesCategory]);\n  let el;\n\n  switch (status) {\n    case \"LOADING\":\n      el = /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n        size: \"large\",\n        message: \"Loading Libraries. Please wait....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 18\n      }, this);\n      break;\n\n    case \"LOADED\":\n      if (movie === null) {\n        el = /*#__PURE__*/_jsxDEV(NoMatch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this);\n        break;\n      }\n\n      const {\n        title,\n        storyline,\n        ratings,\n        posterurl,\n        duration\n      } = movie;\n\n      if (title === null) {\n        el = /*#__PURE__*/_jsxDEV(NoMatch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this);\n        break;\n      }\n\n      const average = arr => arr.reduce((a, b) => a + b, 0) / arr.length;\n\n      var rating = parseInt(average(ratings).toFixed(2), 10) / 2;\n      el = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"my-2 bt-head\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/${props.match.params.moviesCategory}`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"Back to Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"my-2\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            lg: 4,\n            className: \"my-2\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${posterurl}`,\n              alt: title,\n              className: \"w-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            lg: 8,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fs-5 my-2 st-details\",\n              children: storyline\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              xs: 3,\n              className: \"text-sm my-2\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faClock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ms-2\",\n                  children: duration\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(Rating, {\n                  rating: rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 37\n                }, this), rating, \" (\", ratings.length, \" rated)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false);\n      break;\n\n    case \"ERROR\":\n      let msg = (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : '';\n\n      if ((msg === null || msg === void 0 ? void 0 : msg.indexOf(\"404\")) > -1) {\n        el = /*#__PURE__*/_jsxDEV(NoMatch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this);\n      } else {\n        el = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: error === null || error === void 0 ? void 0 : error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this);\n      }\n\n      break;\n  }\n\n  return el;\n};\n\n_s(MoviesInfo, \"6+dcvFfgF43wFt46AsVBZz/GDZ4=\");\n\n_c = MoviesInfo;\nexport default MoviesInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoviesInfo\");","map":{"version":3,"names":["useEffect","useState","Alert","Col","Row","faClock","FontAwesomeIcon","LoadingIndicator","Rating","getMovieByTitle","NoMatch","Link","MoviesInfo","props","status","setStatus","movie","setMovie","error","setError","fetchMovie","data","match","params","moviesCategory","path","errormsg","el","title","storyline","ratings","posterurl","duration","average","arr","reduce","a","b","length","rating","parseInt","toFixed","pathname","msg","message","indexOf"],"sources":["G:/Great-Learning/00_FrontEnd/New folder/graded-coding-assignment-react-main/movies-on-the-tip/src/components/movieInfo/MovieInfo.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Alert, Col, Row } from \"react-bootstrap\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { isLoading } from \"../../utils/types\";\r\nimport MovieModel from \"../../model/MovieModel\";\r\nimport LoadingIndicator from \"../common/LoadingIndicator\";\r\nimport Rating from \"../common/Rating\";\r\nimport { getMovieByTitle } from \"../../services/movieService\";\r\nimport NoMatch from \"../global/NoMatch\";\r\nimport './MovieInfo.css';\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype Props = {\r\n    moviesCategory : string,\r\n    path : string\r\n}\r\nconst MoviesInfo = (props : RouteComponentProps<Props>) =>{\r\n    const [status, setStatus] = useState<isLoading>(\"LOADING\")\r\n    const [movie, setMovie] = useState<MovieModel | null>(null)\r\n    const [error, setError] = useState<Error | null>(null)\r\n\r\n    useEffect( ()=>{\r\n        const fetchMovie  = async () => {\r\n            try{\r\n                const data = await getMovieByTitle(props.match.params.moviesCategory, props.match.params.path);\r\n                setMovie(data);\r\n                setStatus(\"LOADED\");\r\n            }\r\n            catch (errormsg : any) {\r\n                setError(errormsg)\r\n                setStatus(\"ERROR\")\r\n            }\r\n        }\r\n\r\n        fetchMovie();\r\n    },[ props.match.params.path,  props.match.params.moviesCategory]) \r\n\r\n    let el\r\n\r\n    switch (status) {\r\n        case \"LOADING\":\r\n            el = <LoadingIndicator size=\"large\" message=\"Loading Libraries. Please wait....\"/>;\r\n            break;\r\n        case \"LOADED\":\r\n            \r\n            if (movie === null){\r\n                el = (\r\n                    <NoMatch/>\r\n                );\r\n                break;\r\n            }\r\n            \r\n            const { title, storyline, ratings, posterurl, duration } = movie as MovieModel;\r\n\r\n            if (title === null){\r\n                el = (\r\n                    <NoMatch/>\r\n                );\r\n                break;\r\n            }\r\n            const average = (arr : number[]) => arr.reduce((a,b) => a + b, 0) / arr.length;\r\n            var rating = parseInt(average(ratings).toFixed(2), 10) / 2;\r\n            el = (\r\n                <>\r\n                    <Row>\r\n                    <Col xs={12} className=\"my-2 bt-head\">\r\n                        <Link to={{pathname: `/${props.match.params.moviesCategory}`}}>\r\n                            <h6>Back to Home</h6>\r\n                        </Link>\r\n                        </Col>\r\n                        <Col xs={12} className=\"my-2\">\r\n                            <h1>{title}</h1>\r\n                        </Col>\r\n                        <Col xs={12} lg={4} className=\"my-2\">\r\n                            <img src={`${posterurl}`}\r\n                                alt={title}\r\n                                className=\"w-100\"\r\n                            />\r\n                        </Col>\r\n                        <Col xs={12} lg={8}>\r\n                            <div className=\"fs-5 my-2 st-details\">{storyline}</div>\r\n                            <Row xs={3} className=\"text-sm my-2\">\r\n                                <Col>\r\n                                    <FontAwesomeIcon icon={faClock} />\r\n                                    <span className=\"ms-2\">{duration}</span>\r\n                                </Col>\r\n                                <Col>\r\n                                    <Rating rating={rating}/>\r\n                                    {rating} ({ratings.length} rated)\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </>\r\n            )\r\n            break;\r\n\r\n        case \"ERROR\":\r\n            let msg = error?.message??'';\r\n\r\n            if (msg?.indexOf(\"404\") > -1){\r\n                el = (\r\n                    <NoMatch/>\r\n                )\r\n            } else {\r\n                el = (\r\n                    <Alert variant=\"danger\">\r\n                        {error?.message}\r\n                    </Alert>\r\n                )                \r\n            }\r\n            break;\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\nexport default MoviesInfo"],"mappings":"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"},"metadata":{},"sourceType":"module"}